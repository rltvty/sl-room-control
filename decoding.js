/*
COMMANDS IN HEX, FROM PREVIOUS RESEARCH
 
 **** Sent this command to set master to 7 db:
 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:3b:bd:67:3f

 **** Sent this command to set master to 4 db:
 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:17:14:51:3f


 **** Sent this command to set master to 0 db:
 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:7f:41:35:3f


 **** Sent this command to set master to -5 db:
 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:50:22:16:3f


 **** Sent this command to set master to -9 db:
 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:00:00:00:3f

 -8.99 db: 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:66:0d:00:3f
 -8.98 db: 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:d3:1a:00:3f
 -8.97 db: 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:40:28:00:3f

 **** Dragged to set master to -35.14 db:
 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:ca:e0:fc:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:91:c1:f9:3e55:43:00:01:06:00:4b:41:65:00:64:00

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:1e:83:f3:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:75:25:ea:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:5e:89:da:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:b6:2b:d1:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:66:70:be:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:89:f3:b1:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:12:b5:ab:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:8a:da:95:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:19:9c:8f:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:a9:5d:89:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:39:1f:83:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:20:83:73:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:b0:44:6d:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:7d:0c:4e:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:0f:ce:47:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:2c:51:3b:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:bd:12:35:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:4d:d4:2e:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:dd:95:28:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:6d:57:22:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:fa:18:1c:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:8a:da:15:3e55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:1a:9c:0f:3e

 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65:00:00:00:a9:5d:09:3e


 */

/* REMOVE WHAT I THINK IS THE URL: 55:43:00:01:24:00:50:56:65:00:64:00:53:70:65:61:6b:65:72:2f:6c:69:6e:65:2f:63:68:31:2f:76:6f:6c:75:6d:65
   ALSO REMOVE THE KEEP ALIVE: 55:43:00:01:06:00:4b:41:65:00:64:00

 **** Sent this command to set master to 7 db:
  00:00:00:3b:bd:67:3f

 **** Sent this command to set master to 4 db:
  00:00:00:17:14:51:3f


 **** Sent this command to set master to 0 db:
  00:00:00:7f:41:35:3f


 **** Sent this command to set master to -5 db:
  00:00:00:50:22:16:3f


 **** Sent this command to set master to -9 db:
  00:00:00:00:00:00:3f

 **** Dragged to set master to -35.14 db:
  00:00:00:ca:e0:fc:3e

  00:00:00:91:c1:f9:3e

  00:00:00:1e:83:f3:3e

  00:00:00:75:25:ea:3e 00:00:00:5e:89:da:3e

  00:00:00:b6:2b:d1:3e 00:00:00:66:70:be:3e 00:00:00:89:f3:b1:3e

  00:00:00:12:b5:ab:3e 00:00:00:8a:da:95:3e 00:00:00:19:9c:8f:3e

  00:00:00:a9:5d:89:3e

  00:00:00:39:1f:83:3e 00:00:00:20:83:73:3e 00:00:00:b0:44:6d:3e 00:00:00:7d:0c:4e:3e

  00:00:00:0f:ce:47:3e 00:00:00:2c:51:3b:3e

  00:00:00:bd:12:35:3e

  00:00:00:4d:d4:2e:3e 00:00:00:dd:95:28:3e

  00:00:00:6d:57:22:3e 00:00:00:fa:18:1c:3e

  00:00:00:8a:da:15:3e 00:00:00:1a:9c:0f:3e

  00:00:00:a9:5d:09:3e
 */

/* CREATE VARS FOR THESE THINGS */

var grouping = 2;

var statics = {
    "7":      Buffer.from(reverse("3bbd673f", grouping), 'hex'),
    "4":      Buffer.from(reverse("1714513f", grouping), 'hex'),
    "0":      Buffer.from(reverse("7f41353f", grouping), 'hex'),
    "-5":     Buffer.from(reverse("5022163f", grouping), 'hex'),
    "-9":     Buffer.from(reverse("0000003f", grouping), 'hex'),
    "-35.14": Buffer.from(reverse("a95d093e", grouping), 'hex')
};

console.log(Object.keys(statics));

var moving_down = [
    parseInt(reverse("cae0fc3e", grouping), 16),
    parseInt(reverse("91c1f93e", grouping), 16),
    parseInt(reverse("1e83f33e", grouping), 16),
    parseInt(reverse("7525ea3e", grouping), 16),
    parseInt(reverse("5e89da3e", grouping), 16),
    parseInt(reverse("b62bd13e", grouping), 16),
    parseInt(reverse("6670be3e", grouping), 16),
    parseInt(reverse("89f3b13e", grouping), 16),
    parseInt(reverse("12b5ab3e", grouping), 16),
    parseInt(reverse("8ada953e", grouping), 16),
    parseInt(reverse("199c8f3e", grouping), 16),
    parseInt(reverse("a95d893e", grouping), 16),
    parseInt(reverse("391f833e", grouping), 16),
    parseInt(reverse("2083733e", grouping), 16),
    parseInt(reverse("b0446d3e", grouping), 16),
    parseInt(reverse("7d0c4e3e", grouping), 16),
    parseInt(reverse("0fce473e", grouping), 16),
    parseInt(reverse("2c513b3e", grouping), 16),
    parseInt(reverse("bd12353e", grouping), 16),
    parseInt(reverse("4dd42e3e", grouping), 16),
    parseInt(reverse("dd95283e", grouping), 16),
    parseInt(reverse("6d57223e", grouping), 16),
    parseInt(reverse("fa181c3e", grouping), 16),
    parseInt(reverse("8ada153e", grouping), 16),
    parseInt(reverse("1a9c0f3e", grouping), 16)
];

console.log(moving_down);

/*
for (var offset = 0; offset < 12; offset += 1) {
    console.log('');
    console.log('TESTING OFFSET: ' + offset);
    for (var key in statics) {
        var item = statics[key];

        try {
            console.log('\t is key: ' + key + ' == readDoubleBE: ' + item.readDoubleBE(offset));
        } catch (e) {
        }
        try {
            console.log('\t is key: ' + key + ' == readDoubleLE: ' + item.readDoubleLE(offset));
        } catch (e) {
        }
        try {
            console.log('\t is key: ' + key + ' == readFloatBE: ' + item.readFloatBE(offset));
        } catch (e) {
        }
        try {
            console.log('\t is key: ' + key + ' == readFloatLE: ' + item.readFloatLE(offset));
        } catch (e) {
        }

        try {
            console.log('\t is key: ' + key + ' == readInt8: ' + item.readInt8(offset));
        } catch (e) {
        }
        try {
            console.log('\t is key: ' + key + ' == readInt16BE: ' + item.readInt16BE(offset));
        } catch (e) {
        }
        try {
            console.log('\t is key: ' + key + ' == readInt16LE: ' + item.readInt16LE(offset));
        } catch (e) {
        }
        try {
            console.log('\t is key: ' + key + ' == readInt32BE: ' + item.readInt32BE(offset));
        } catch (e) {
        }
        try {
            console.log('\t is key: ' + key + ' == readInt32LE: ' + item.readInt32LE(offset));
        } catch (e) {
        }
    }
}
*/

/* Pretty sure not using int.
 buf.readInt8(offset)
 buf.readInt16BE(offset)
 buf.readInt16LE(offset)
 buf.readInt32BE(offset)
 buf.readInt32LE(offset)
 buf.readIntBE(offset, byteLength)
 buf.readIntLE(offset, byteLength)
 buf.readUInt8(offset)
 buf.readUInt16BE(offset)
 buf.readUInt16LE(offset)
 buf.readUInt32BE(offset)
 buf.readUInt32LE(offset)
 buf.readUIntBE(offset, byteLength)
 buf.readUIntLE(offset, byteLength)
 */

/* NOT THE RESULTS I WANTED.  MAYBE ITS JUST A LINEAR REGRESSION? */


//   Y        X
var values = {
    "7":      parseInt(reverse("03bbd673f", grouping), 16),
    "4":      parseInt(reverse("01714513f", grouping), 16),
    "0":      parseInt(reverse("07f41353f", grouping), 16),
    "-5":     parseInt(reverse("05022163f", grouping), 16),
    "-9":     parseInt(reverse("00000003f", grouping), 16),
    "-35.14": parseInt(reverse("0a95d093e", grouping), 16)
};

console.log('Values:');
console.log(values);

var m = (7 + 35.14)/(values["7"] - values["-35.14"]);

var b = 0 - (m * values["0"]);

console.log('Equation: y=' + m + 'x + ' + b);

function y(x) {
    return (m*x) + b;
}

console.log(' 7 is ' + y(values["7"]));
console.log(' 4 is ' + y(values["4"]));
console.log(' 0 is ' + y(values["0"]));
console.log('-5 is ' + y(values["-5"]));
console.log('-9 is ' + y(values["-9"]));
console.log('-35.14 is ' + y(values["-35.14"]));

/* DID I DO THIS WRONG? SEEMS LIKE NOT LINEAR REGRESSION EITHER :( */

//Lets write a string reversing function.

function reverse(input, grouping) {
    var output = '';
    if (grouping === undefined) {
        grouping = 1
    }
    var start = 0 - grouping;
    while (start >= -1*input.length) {
        output += input.substr(start, grouping);
        start = start - grouping;
    }
    return output;
}

function test_reverse() {
    var passing = true;
    console.log('reverse("nachos") === "' + reverse('nachos') + '" === "sohcan"');
    passing = passing && reverse('nachos') === 'sohcan';
    console.log('reverse("nachos", 2) === "' + reverse('nachos') + '" === "oschna"');
    passing = passing && reverse('nachos', 2) === 'oschna';
    return passing;
}

